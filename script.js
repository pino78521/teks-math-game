// Full JavaScript game logic goes here
// (See previous assistant message for exact content)